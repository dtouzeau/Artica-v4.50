<?php
include_once(dirname(__FILE__)."/ressources/class.template-admin.inc");if(!isset($GLOBALS["CLASS_SOCKETS"])){if(!class_exists("sockets")){include_once("/usr/share/artica-postfix/ressources/class.sockets.inc");}$GLOBALS["CLASS_SOCKETS"]=new sockets();}
include_once(dirname(__FILE__)."/ressources/class.computers.inc");
if(isset($_GET["verbose"])){$GLOBALS["VERBOSE"]=true;ini_set('display_errors', 1);ini_set('error_reporting', E_ALL);ini_set('error_prepend_string',null);ini_set('error_append_string',null);}
if(isset($_POST["LOCALE"])){SAVE_LOCALE();exit;}

$users=new usersMenus();
$tpl=new template_admin();
if(!$users->AsSystemAdministrator){$tpl->js_no_privileges();exit();}
if(isset($_GET["popup"])){popup();exit;}
js();


function js(){
	$page=CurrentPageName();
	$tpl=new template_admin();
	$tpl->js_dialog6("{system}::{locales}", "$page?popup=yes",600);
}

function popup(){
	$page=CurrentPageName();
	$tpl=new template_admin();

    $jsrestart=$tpl->framework_buildjs("/savelocales",
        "locales.progress","locales.log","progress-locales-restart","dialogInstance6.close();LoadAjaxSilent('artica-notifs-barr','fw.icon.top.php?notifs=yes');");

    $form[]="<div id='progress-locales-restart'></div>";
	

	$languages=Local_array();
	$langbox[null]="{select}";

    foreach ($languages as $index=>$data){
        $langbox[$data]=$data;
    }


	$LOCALE=trim($GLOBALS["CLASS_SOCKETS"]->GET_INFO("LOCALE"));
	
	$form[]=$tpl->field_array_hash($langbox, "LOCALE", "{locale}", $LOCALE);
	echo $tpl->form_outside("{locales}", $form,"{LOCALES_EXPLAIN}","{apply}",$jsrestart,"AsSystemAdministrator");
}
function SAVE_LOCALE(){
	$tpl=new template_admin();
	$tpl->CLEAN_POST();
	$sock=new sockets();
    $sock->SET_INFO("LOCALE", $_POST["LOCALE"]);


	
}


function Local_array(){
    $f[]="aa_DJ.UTF-8";
    $f[]="aa_DJ ISO-8859-1";
    $f[]="aa_ER";
    $f[]="aa_ER@saaho";
    $f[]="aa_ET";
    $f[]="af_ZA.UTF-8";
    $f[]="af_ZA ISO-8859-1";
    $f[]="am_ET";
    $f[]="an_ES.UTF-8";
    $f[]="an_ES ISO-8859-15";
    $f[]="ar_AE.UTF-8";
    $f[]="ar_AE ISO-8859-6";
    $f[]="ar_BH.UTF-8";
    $f[]="ar_BH ISO-8859-6";
    $f[]="ar_DZ.UTF-8";
    $f[]="ar_DZ ISO-8859-6";
    $f[]="ar_EG.UTF-8";
    $f[]="ar_EG ISO-8859-6";
    $f[]="ar_IN";
    $f[]="ar_IQ.UTF-8";
    $f[]="ar_IQ ISO-8859-6";
    $f[]="ar_JO.UTF-8";
    $f[]="ar_JO ISO-8859-6";
    $f[]="ar_KW.UTF-8";
    $f[]="ar_KW ISO-8859-6";
    $f[]="ar_LB.UTF-8";
    $f[]="ar_LB ISO-8859-6";
    $f[]="ar_LY.UTF-8";
    $f[]="ar_LY ISO-8859-6";
    $f[]="ar_MA.UTF-8";
    $f[]="ar_MA ISO-8859-6";
    $f[]="ar_OM.UTF-8";
    $f[]="ar_OM ISO-8859-6";
    $f[]="ar_QA.UTF-8";
    $f[]="ar_QA ISO-8859-6";
    $f[]="ar_SA.UTF-8";
    $f[]="ar_SA ISO-8859-6";
    $f[]="ar_SD.UTF-8";
    $f[]="ar_SD ISO-8859-6";
    $f[]="ar_SY.UTF-8";
    $f[]="ar_SY ISO-8859-6";
    $f[]="ar_TN.UTF-8";
    $f[]="ar_TN ISO-8859-6";
    $f[]="ar_YE.UTF-8";
    $f[]="ar_YE ISO-8859-6";
    $f[]="az_AZ.UTF-8";
    $f[]="as_IN.UTF-8";
    $f[]="ast_ES.UTF-8";
    $f[]="ast_ES ISO-8859-15";
    $f[]="be_BY.UTF-8";
    $f[]="be_BY CP1251";
    $f[]="be_BY@latin";
    $f[]="ber_DZ";
    $f[]="ber_MA";
    $f[]="bg_BG.UTF-8";
    $f[]="bg_BG CP1251";
    $f[]="bn_BD";
    $f[]="bn_IN";
    $f[]="br_FR.UTF-8";
    $f[]="br_FR ISO-8859-1";
    $f[]="br_FR@euro ISO-8859-15";
    $f[]="bs_BA.UTF-8";
    $f[]="bs_BA ISO-8859-2";
    $f[]="byn_ER";
    $f[]="ca_AD.UTF-8";
    $f[]="ca_AD ISO-8859-15";
    $f[]="ca_ES.UTF-8";
    $f[]="ca_ES ISO-8859-1";
    $f[]="ca_ES@euro ISO-8859-15";
    $f[]="ca_ES.UTF-8@valencia";
    $f[]="ca_ES@valencia ISO-8859-15";
    $f[]="ca_FR.UTF-8";
    $f[]="ca_FR ISO-8859-15";
    $f[]="ca_IT.UTF-8";
    $f[]="ca_IT ISO-8859-15";
    $f[]="crh_UA";
    $f[]="cs_CZ.UTF-8";
    $f[]="cs_CZ ISO-8859-2";
    $f[]="csb_PL";
    $f[]="cy_GB.UTF-8";
    $f[]="cy_GB ISO-8859-14";
    $f[]="da_DK.UTF-8";
    $f[]="da_DK ISO-8859-1";
    $f[]="da_DK.ISO-8859-15 ISO-8859-15";
    $f[]="de_AT.UTF-8";
    $f[]="de_AT ISO-8859-1";
    $f[]="de_AT@euro ISO-8859-15";
    $f[]="de_BE.UTF-8";
    $f[]="de_BE ISO-8859-1";
    $f[]="de_BE@euro ISO-8859-15";
    $f[]="de_CH.UTF-8";
    $f[]="de_CH ISO-8859-1";
    $f[]="de_DE.UTF-8";
    $f[]="de_DE ISO-8859-1";
    $f[]="de_DE@euro ISO-8859-15";
    $f[]="de_LI.UTF-8";
    $f[]="de_LU.UTF-8";
    $f[]="de_LU ISO-8859-1";
    $f[]="de_LU@euro ISO-8859-15";
    $f[]="dz_BT";
    $f[]="el_GR.UTF-8";
    $f[]="el_GR ISO-8859-7";
    $f[]="el_CY.UTF-8";
    $f[]="el_CY ISO-8859-7";
    $f[]="en_AU.UTF-8";
    $f[]="en_AU ISO-8859-1";
    $f[]="en_BW.UTF-8";
    $f[]="en_BW ISO-8859-1";
    $f[]="en_CA.UTF-8";
    $f[]="en_CA ISO-8859-1";
    $f[]="en_DK.UTF-8";
    $f[]="en_DK.ISO-8859-15 ISO-8859-15";
    $f[]="en_DK ISO-8859-1";
    $f[]="en_GB.UTF-8";
    $f[]="en_GB ISO-8859-1";
    $f[]="en_GB.ISO-8859-15 ISO-8859-15";
    $f[]="en_HK.UTF-8";
    $f[]="en_HK ISO-8859-1";
    $f[]="en_IE.UTF-8";
    $f[]="en_IE ISO-8859-1";
    $f[]="en_IE@euro ISO-8859-15";
    $f[]="en_IN";
    $f[]="en_NG";
    $f[]="en_NZ.UTF-8";
    $f[]="en_NZ ISO-8859-1";
    $f[]="en_PH.UTF-8";
    $f[]="en_PH ISO-8859-1";
    $f[]="en_SG.UTF-8";
    $f[]="en_SG ISO-8859-1";
    $f[]="en_US.UTF-8";
    $f[]="en_US ISO-8859-1";
    $f[]="en_US.ISO-8859-15 ISO-8859-15";
    $f[]="en_ZA.UTF-8";
    $f[]="en_ZA ISO-8859-1";
    $f[]="en_ZW.UTF-8";
    $f[]="en_ZW ISO-8859-1";
    $f[]="eo.UTF-8";
    $f[]="eo ISO-8859-3";
    $f[]="es_AR.UTF-8";
    $f[]="es_AR ISO-8859-1";
    $f[]="es_BO.UTF-8";
    $f[]="es_BO ISO-8859-1";
    $f[]="es_CL.UTF-8";
    $f[]="es_CL ISO-8859-1";
    $f[]="es_CO.UTF-8";
    $f[]="es_CO ISO-8859-1";
    $f[]="es_CR.UTF-8";
    $f[]="es_CR ISO-8859-1";
    $f[]="es_DO.UTF-8";
    $f[]="es_DO ISO-8859-1";
    $f[]="es_EC.UTF-8";
    $f[]="es_EC ISO-8859-1";
    $f[]="es_ES.UTF-8";
    $f[]="es_ES ISO-8859-1";
    $f[]="es_ES@euro ISO-8859-15";
    $f[]="es_GT.UTF-8";
    $f[]="es_GT ISO-8859-1";
    $f[]="es_HN.UTF-8";
    $f[]="es_HN ISO-8859-1";
    $f[]="es_MX.UTF-8";
    $f[]="es_MX ISO-8859-1";
    $f[]="es_NI.UTF-8";
    $f[]="es_NI ISO-8859-1";
    $f[]="es_PA.UTF-8";
    $f[]="es_PA ISO-8859-1";
    $f[]="es_PE.UTF-8";
    $f[]="es_PE ISO-8859-1";
    $f[]="es_PR.UTF-8";
    $f[]="es_PR ISO-8859-1";
    $f[]="es_PY.UTF-8";
    $f[]="es_PY ISO-8859-1";
    $f[]="es_SV.UTF-8";
    $f[]="es_SV ISO-8859-1";
    $f[]="es_US.UTF-8";
    $f[]="es_US ISO-8859-1";
    $f[]="es_UY.UTF-8";
    $f[]="es_UY ISO-8859-1";
    $f[]="es_VE.UTF-8";
    $f[]="es_VE ISO-8859-1";
    $f[]="et_EE.UTF-8";
    $f[]="et_EE ISO-8859-1";
    $f[]="et_EE.ISO-8859-15 ISO-8859-15";
    $f[]="eu_ES.UTF-8";
    $f[]="eu_ES ISO-8859-1";
    $f[]="eu_ES@euro ISO-8859-15";
    $f[]="eu_FR.UTF-8";
    $f[]="eu_FR ISO-8859-1";
    $f[]="eu_FR@euro ISO-8859-15";
    $f[]="fa_IR";
    $f[]="fi_FI.UTF-8";
    $f[]="fi_FI ISO-8859-1";
    $f[]="fi_FI@euro ISO-8859-15";
    $f[]="fil_PH";
    $f[]="fo_FO.UTF-8";
    $f[]="fo_FO ISO-8859-1";
    $f[]="fr_BE.UTF-8";
    $f[]="fr_BE ISO-8859-1";
    $f[]="fr_BE@euro ISO-8859-15";
    $f[]="fr_CA.UTF-8";
    $f[]="fr_CA ISO-8859-1";
    $f[]="fr_CH.UTF-8";
    $f[]="fr_CH ISO-8859-1";
    $f[]="fr_FR.UTF-8";
    $f[]="fr_FR ISO-8859-1";
    $f[]="fr_FR@euro ISO-8859-15";
    $f[]="fr_LU.UTF-8";
    $f[]="fr_LU ISO-8859-1";
    $f[]="fr_LU@euro ISO-8859-15";
    $f[]="fur_IT";
    $f[]="fy_NL";
    $f[]="fy_DE";
    $f[]="ga_IE.UTF-8";
    $f[]="ga_IE ISO-8859-1";
    $f[]="ga_IE@euro ISO-8859-15";
    $f[]="gd_GB.UTF-8";
    $f[]="gd_GB ISO-8859-15";
    $f[]="gez_ER";
    $f[]="gez_ER@abegede";
    $f[]="gez_ET";
    $f[]="gez_ET@abegede";
    $f[]="gl_ES.UTF-8";
    $f[]="gl_ES ISO-8859-1";
    $f[]="gl_ES@euro ISO-8859-15";
    $f[]="gu_IN";
    $f[]="gv_GB.UTF-8";
    $f[]="gv_GB ISO-8859-1";
    $f[]="ha_NG";
    $f[]="he_IL.UTF-8";
    $f[]="he_IL ISO-8859-8";
    $f[]="hi_IN";
    $f[]="hr_HR.UTF-8";
    $f[]="hr_HR ISO-8859-2";
    $f[]="hsb_DE.UTF-8";
    $f[]="hsb_DE ISO-8859-2";
    $f[]="hu_HU.UTF-8";
    $f[]="hu_HU ISO-8859-2";
    $f[]="hy_AM";
    $f[]="hy_AM.ARMSCII-8 ARMSCII-8";
    $f[]="ia";
    $f[]="id_ID.UTF-8";
    $f[]="id_ID ISO-8859-1";
    $f[]="ig_NG";
    $f[]="ik_CA";
    $f[]="is_IS.UTF-8";
    $f[]="is_IS ISO-8859-1";
    $f[]="it_CH.UTF-8";
    $f[]="it_CH ISO-8859-1";
    $f[]="it_IT.UTF-8";
    $f[]="it_IT ISO-8859-1";
    $f[]="it_IT@euro ISO-8859-15";
    $f[]="iu_CA";
    $f[]="iw_IL.UTF-8";
    $f[]="iw_IL ISO-8859-8";
    $f[]="ja_JP.UTF-8";
    $f[]="ja_JP.EUC-JP EUC-JP";
    $f[]="ka_GE.UTF-8";
    $f[]="ka_GE GEORGIAN-PS";
    $f[]="kk_KZ.UTF-8";
    $f[]="kk_KZ PT154";
    $f[]="kl_GL.UTF-8";
    $f[]="kl_GL ISO-8859-1";
    $f[]="km_KH";
    $f[]="kn_IN";
    $f[]="ko_KR.UTF-8";
    $f[]="ko_KR.EUC-KR EUC-KR";
    $f[]="ks_IN";
    $f[]="ku_TR.UTF-8";
    $f[]="ku_TR ISO-8859-9";
    $f[]="kw_GB.UTF-8";
    $f[]="kw_GB ISO-8859-1";
    $f[]="ky_KG";
    $f[]="lg_UG.UTF-8";
    $f[]="lg_UG ISO-8859-10";
    $f[]="li_BE";
    $f[]="li_NL";
    $f[]="lo_LA";
    $f[]="lt_LT.UTF-8";
    $f[]="lt_LT ISO-8859-13";
    $f[]="lv_LV.UTF-8";
    $f[]="lv_LV ISO-8859-13";
    $f[]="mai_IN";
    $f[]="mg_MG.UTF-8";
    $f[]="mg_MG ISO-8859-15";
    $f[]="mi_NZ.UTF-8";
    $f[]="mi_NZ ISO-8859-13";
    $f[]="mk_MK.UTF-8";
    $f[]="mk_MK ISO-8859-5";
    $f[]="ml_IN";
    $f[]="mn_MN";
    $f[]="mr_IN";
    $f[]="ms_MY.UTF-8";
    $f[]="ms_MY ISO-8859-1";
    $f[]="mt_MT.UTF-8";
    $f[]="mt_MT ISO-8859-3";
    $f[]="nb_NO.UTF-8";
    $f[]="nb_NO ISO-8859-1";
    $f[]="nds_DE";
    $f[]="nds_NL";
    $f[]="ne_NP";
    $f[]="nl_BE.UTF-8";
    $f[]="nl_BE ISO-8859-1";
    $f[]="nl_BE@euro ISO-8859-15";
    $f[]="nl_NL.UTF-8";
    $f[]="nl_NL ISO-8859-1";
    $f[]="nl_NL@euro ISO-8859-15";
    $f[]="nn_NO.UTF-8";
    $f[]="nn_NO ISO-8859-1";
    $f[]="nr_ZA";
    $f[]="nso_ZA";
    $f[]="oc_FR.UTF-8";
    $f[]="oc_FR ISO-8859-1";
    $f[]="om_ET";
    $f[]="om_KE.UTF-8";
    $f[]="om_KE ISO-8859-1";
    $f[]="or_IN";
    $f[]="pa_IN";
    $f[]="pa_PK";
    $f[]="pap_AN";
    $f[]="pl_PL.UTF-8";
    $f[]="pl_PL ISO-8859-2";
    $f[]="pt_BR.UTF-8";
    $f[]="pt_BR ISO-8859-1";
    $f[]="pt_PT.UTF-8";
    $f[]="pt_PT ISO-8859-1";
    $f[]="pt_PT@euro ISO-8859-15";
    $f[]="ro_RO.UTF-8";
    $f[]="ro_RO ISO-8859-2";
    $f[]="ru_RU.UTF-8";
    $f[]="ru_RU.KOI8-R KOI8-R";
    $f[]="ru_RU ISO-8859-5";
    $f[]="ru_RU.CP1251 CP1251";
    $f[]="ru_UA.UTF-8";
    $f[]="ru_UA KOI8-U";
    $f[]="rw_RW";
    $f[]="sa_IN";
    $f[]="sc_IT";
    $f[]="se_NO";
    $f[]="si_LK";
    $f[]="sid_ET";
    $f[]="sk_SK.UTF-8";
    $f[]="sk_SK ISO-8859-2";
    $f[]="sl_SI.UTF-8";
    $f[]="sl_SI ISO-8859-2";
    $f[]="so_DJ.UTF-8";
    $f[]="so_DJ ISO-8859-1";
    $f[]="so_ET";
    $f[]="so_KE.UTF-8";
    $f[]="so_KE ISO-8859-1";
    $f[]="so_SO.UTF-8";
    $f[]="so_SO ISO-8859-1";
    $f[]="sq_AL.UTF-8";
    $f[]="sq_AL ISO-8859-1";
    $f[]="sr_ME";
    $f[]="sr_RS";
    $f[]="sr_RS@latin";
    $f[]="ss_ZA";
    $f[]="st_ZA.UTF-8";
    $f[]="st_ZA ISO-8859-1";
    $f[]="sv_FI.UTF-8";
    $f[]="sv_FI ISO-8859-1";
    $f[]="sv_FI@euro ISO-8859-15";
    $f[]="sv_SE.UTF-8";
    $f[]="sv_SE ISO-8859-1";
    $f[]="sv_SE.ISO-8859-15 ISO-8859-15";
    $f[]="ta_IN";
    $f[]="te_IN";
    $f[]="tg_TJ.UTF-8";
    $f[]="tg_TJ KOI8-T";
    $f[]="th_TH.UTF-8";
    $f[]="th_TH TIS-620";
    $f[]="ti_ER";
    $f[]="ti_ET";
    $f[]="tig_ER";
    $f[]="tk_TM";
    $f[]="tl_PH.UTF-8";
    $f[]="tl_PH ISO-8859-1";
    $f[]="tn_ZA";
    $f[]="tr_CY.UTF-8";
    $f[]="tr_CY ISO-8859-9";
    $f[]="tr_TR.UTF-8";
    $f[]="tr_TR ISO-8859-9";
    $f[]="ts_ZA";
    $f[]="tt_RU.UTF-8";
    $f[]="tt_RU@iqtelif.UTF-8";
    $f[]="ug_CN";
    $f[]="uk_UA.UTF-8";
    $f[]="uk_UA KOI8-U";
    $f[]="ur_PK";
    $f[]="uz_UZ.UTF-8";
    $f[]="uz_UZ ISO-8859-1";
    $f[]="uz_UZ@cyrillic";
    $f[]="ve_ZA";
    $f[]="vi_VN";
    $f[]="vi_VN.TCVN TCVN5712-1";
    $f[]="wa_BE.UTF-8";
    $f[]="wa_BE ISO-8859-1";
    $f[]="wa_BE@euro ISO-8859-15";
    $f[]="wo_SN";
    $f[]="xh_ZA.UTF-8";
    $f[]="xh_ZA ISO-8859-1";
    $f[]="yi_US.UTF-8";
    $f[]="yi_US CP1255";
    $f[]="yo_NG";
    $f[]="zh_CN.UTF-8";
    $f[]="zh_CN.GB18030 GB18030";
    $f[]="zh_CN.GBK GBK";
    $f[]="zh_CN GB2312";
    $f[]="zh_HK.UTF-8";
    $f[]="zh_HK BIG5-HKSCS";
    $f[]="zh_SG.UTF-8";
    $f[]="zh_SG.GBK GBK";
    $f[]="zh_SG GB2312";
    $f[]="zh_TW.UTF-8";
    $f[]="zh_TW BIG5";
    $f[]="zh_TW.EUC-TW EUC-TW";
    $f[]="zu_ZA.UTF-8";
    $f[]="zu_ZA ISO-8859-1";


    return $f;
}
