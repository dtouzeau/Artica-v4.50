<?php
	include_once(dirname(__FILE__).'/class.templates.inc');
	include_once(dirname(__FILE__).'/class.ldap.inc');
	include_once(dirname(__FILE__).'/class.users.menus.inc');
	include_once(dirname(__FILE__).'/class.mysql.inc');
	
	
	class awstats{
		private $website=null;
		private $logfilepath=null;
		private $LogType=null;
		private $LogFormat=null;
		function __construct($website){
			$this->website=$website;
		}
		
		public function GET($key){
			$sql="SELECT `value` FROM `awstats` WHERE `website`='$this->website' AND `key`='$key'";
			$q=new mysql();
			$ligne=@mysqli_fetch_array($q->QUERY_SQL($sql,'artica_backup'));
			return $ligne["value"];		
		}
		
		public function SET($key,$value){
			$sql="SELECT `website` FROM `awstats` WHERE `website`='$this->website' AND `key`='$key'";
			$q=new mysql();
			$ligne=@mysqli_fetch_array($q->QUERY_SQL($sql,'artica_backup'));
			if($ligne["website"]==null){
				$sql="INSERT INTO `awstats`(`website`,`key`,`value`) VALUES('$this->website','$key','$value')";
			}else{
				$sql="UPDATE `awstats` SET `value`='$value' WHERE `website`='$this->website' AND `key`='$key'";
			}
			
			$q->QUERY_SQL($sql,"artica_backup");
			if(!$q->ok){echo $q->mysql_error;return;}
			
		}
		
		public function getCountDePages(){
			$sql="SELECT COUNT(`awstats_file`) as tcount FROM awstats_files WHERE `servername`='$this->website'";
			$q=new mysql();
			$ligne=@mysqli_fetch_array($q->QUERY_SQL($sql,'artica_backup'));
			return $ligne["tcount"];
		}
		
		public function SetDefaultRobots(){
			
				$this->SET("DirIcons","/img/awstats/icons");
			
			
			
			
			
		}
		
		public function set_LogFile($logfilepath=null){
			$this->logfilepath=$logfilepath;
			
		}
		public function set_LogType($LogType=null){
			$this->LogType=$LogType;
				
		}		
		public function set_LogFormat($LogFormat=null){
			$this->LogFormat=$LogFormat;
		
		}		
		
		public function buildconf(){
			
			$DNSLookup=$this->GET("DNSLookup");
			if(!is_numeric($DNSLookup)){$DNSLookup=2;}
			$SiteDomain=$this->GET("SiteDomain");
			if($SiteDomain==null){$SiteDomain=$this->website;}
			$DirIcons=$this->GET("DirIcons");
			if($DirIcons==null){$DirIcons="/img/awstats/icons";};
			$LogSeparator=$this->GET("LogSeparator");
			
			
			
			$LogFile=$this->GET("LogFile");
			$LogType=$this->GET("LogType");
			$LogFormat=$this->GET("LogFormat");
			
			if($LogFile==null){$LogFile=$this->logfilepath;}
			if($LogType==null){$LogType=$this->LogType;}
			if($LogFormat==null){$LogFormat=$this->LogFormat;}
			if($LogSeparator==null){$LogSeparator=" ";}
			
			
			if(class_exists("unix")){
				$unix=new unix();
				$LOCATE_AWSTATS_PLUGINS_DIR=$unix->LOCATE_AWSTATS_PLUGINS_DIR();
			}
			
			$f[]="LogFile=\"$LogFile\"";
			$f[]="LogType=$LogType";
			$f[]="LogFormat=$LogFormat";
			$f[]="LogSeparator=$LogSeparator";
			$f[]="SiteDomain=\"$SiteDomain\"";
			$f[]="DNSLookup=$DNSLookup";
			$f[]="DirData=\"/var/lib/awstats\"";
			$f[]="DirCgi=\"/cgi-bin\"";
			$f[]="DirIcons=\"$DirIcons\"";
			$f[]="AllowToUpdateStatsFromBrowser=0";
			$f[]="AllowFullYearView=2";
			$f[]="EnableLockForUpdate=0";
			$f[]="DNSStaticCacheFile=\"dnscache.txt\"";
			$f[]="DNSLastUpdateCacheFile=\"dnscachelastupdate.txt\"";
			$f[]="SkipDNSLookupFor=\"\"";
			$f[]="AllowAccessFromWebToAuthenticatedUsersOnly=0";
			$f[]="AllowAccessFromWebToFollowingAuthenticatedUsers=\"\"";
			$f[]="AllowAccessFromWebToFollowingIPAddresses=\"\"";
			$f[]="CreateDirDataIfNotExists=1";
			$f[]="BuildHistoryFormat=text";
			$f[]="BuildReportFormat=html";
			$f[]="SaveDatabaseFilesWithPermissionsForEveryone=0";
			$f[]="PurgeLogFile=1";
			$f[]="ArchiveLogRecords=1";
			$f[]="KeepBackupOfHistoricFiles=1";
			$f[]="DefaultFile=\"index.php index.html\"";
			$f[]="SkipHosts=\"\"";
			$f[]="SkipUserAgents=\"\"";
			$f[]="SkipFiles=\"\"";
			$f[]="SkipReferrersBlackList=\"\"";
			$f[]="OnlyHosts=\"\"";
			$f[]="OnlyUserAgents=\"\"";
			$f[]="OnlyUsers=\"\"";
			$f[]="OnlyFiles=\"\"";
			$f[]="NotPageList=\"css js class gif jpg jpeg png bmp ico rss xml swf zip arj rar gz z bz2 wav mp3 wma mpg avi\"";
			$f[]="ValidHTTPCodes=\"200 304\"";
			$f[]="ValidSMTPCodes=\"1 250 200\"";
			$f[]="AuthenticatedUsersNotCaseSensitive=1";
			$f[]="URLNotCaseSensitive=0";
			$f[]="URLWithAnchor=0";
			$f[]="URLQuerySeparators=\"?;\"";
			$f[]="URLWithQuery=0";
			$f[]="URLWithQueryWithOnlyFollowingParameters=\"\"";
			$f[]="URLWithQueryWithoutFollowingParameters=\"\"";
			$f[]="URLReferrerWithQuery=0";
			$f[]="ErrorMessages=\"\"";
			$f[]="DebugMessages=0";
			$f[]="NbOfLinesForCorruptedLog=50";
			$f[]="WrapperScript=\"\"";
			$f[]="DecodeUA=0";
			$f[]="LevelForBrowsersDetection=2";
			$f[]="LevelForOSDetection=2";
			$f[]="LevelForRefererAnalyze=2";
			$f[]="LevelForRobotsDetection=2";
			$f[]="LevelForSearchEnginesDetection=2";
			$f[]="LevelForKeywordsDetection=2";
			$f[]="LevelForFileTypesDetection=2";
			$f[]="LevelForWormsDetection=0";
			$f[]="UseFramesWhenCGI=1";
			$f[]="DetailedReportsOnNewWindows=1";
			$f[]="Expires=0";
			$f[]="MaxRowsInHTMLOutput=1000";
			$f[]="ShowMenu=1";
			$f[]="# Set your primary language (ISO-639-1 language codes).";
			$f[]="# Possible values:";
			$f[]="#  Albanian=al, Bosnian=ba, Bulgarian=bg, Catalan=ca,";
			$f[]="#  Chinese (Taiwan)=tw, Chinese (Simpliefied)=cn, Croatian=hr, Czech=cz,";
			$f[]="#  Danish=dk, Dutch=nl, English=en, Estonian=et, Euskara=eu, Finnish=fi,";
			$f[]="#  French=fr, Galician=gl, German=de, Greek=gr, Hebrew=he, Hungarian=hu,";
			$f[]="#  Icelandic=is, Indonesian=id, Italian=it, Japanese=jp, Korean=ko,";
			$f[]="#  Latvian=lv, Norwegian (Nynorsk)=nn, Norwegian (Bokmal)=nb, Polish=pl,";
			$f[]="#  Portuguese=pt, Portuguese (Brazilian)=br, Romanian=ro, Russian=ru,";
			$f[]="#  Serbian=sr, Slovak=sk, Slovenian=si, Spanish=es, Swedish=se, Turkish=tr,";
			$f[]="#  Ukrainian=ua, Welsh=cy.";
			$f[]="#  First available language accepted by browser=auto";
			$f[]="# Default: \"auto\"";
			$f[]="#";
			$f[]="Lang=\"auto\"";
			$f[]="";
			$f[]="";
			$f[]="# Set the location of language files.";
			$f[]="# Example: \"/usr/share/awstats/lang\"";
			$f[]="# Default: \"./lang\" (means lang directory is in same location than awstats.pl)";
			$f[]="#";
			$f[]="DirLang=\"./lang\"";
			$f[]="";
			$f[]="";
			$f[]="# Show menu header with reports' links";
			$f[]="# Possible values: 0 or 1";
			$f[]="# Default: 1";
			$f[]="#";
			$f[]="ShowMenu=1					";
			$f[]="";
			$f[]="";
			$f[]="# You choose here which reports you want to see in the main page and what you";
			$f[]="# want to see in those reports.";
			$f[]="# Possible values:";
			$f[]="#  0  - Report is not shown at all";
			$f[]="#  1  - Report is shown in main page with an entry in menu and default columns";
			$f[]="# XYZ - Report shows column informations defined by code X,Y,Z...";
			$f[]="#       X,Y,Z... are code letters among the following:";
			$f[]="#        U = Unique visitors";
			$f[]="#        V = Visits";
			$f[]="#        P = Number of pages";
			$f[]="#        H = Number of hits (or mails)";
			$f[]="#        B = Bandwith (or total mail size for mail logs)";
			$f[]="#        L = Last access date";
			$f[]="#        E = Entry pages";
			$f[]="#        X = Exit pages";
			$f[]="#        C = Web compression (mod_gzip,mod_deflate)";
			$f[]="#        M = Average mail size (mail logs)";
			$f[]="#";
			$f[]="";
			$f[]="# Show monthly summary";
			$f[]="# Context: Web, Streaming, Mail, Ftp";
			$f[]="# Default: UVPHB, Possible column codes: UVPHB";
			$f[]="ShowSummary=UVPHB";
			$f[]="";
			$f[]="# Show monthly chart";
			$f[]="# Context: Web, Streaming, Mail, Ftp";
			$f[]="# Default: UVPHB, Possible column codes: UVPHB";
			$f[]="ShowMonthStats=UVPHB";
			$f[]="";
			$f[]="# Show days of month chart";
			$f[]="# Context: Web, Streaming, Mail, Ftp";
			$f[]="# Default: VPHB, Possible column codes: VPHB";
			$f[]="ShowDaysOfMonthStats=VPHB";
			$f[]="";
			$f[]="# Show days of week chart";
			$f[]="# Context: Web, Streaming, Mail, Ftp";
			$f[]="# Default: PHB, Possible column codes: PHB";
			$f[]="ShowDaysOfWeekStats=PHB";
			$f[]="";
			$f[]="# Show hourly chart";
			$f[]="# Context: Web, Streaming, Mail, Ftp";
			$f[]="# Default: PHB, Possible column codes: PHB";
			$f[]="ShowHoursStats=PHB";
			$f[]="";
			$f[]="# Show domains/country chart";
			$f[]="# Context: Web, Streaming, Mail, Ftp";
			$f[]="# Default: PHB, Possible column codes: PHB";
			$f[]="ShowDomainsStats=PHB";
			$f[]="";
			$f[]="# Show hosts chart";
			$f[]="# Context: Web, Streaming, Mail, Ftp";
			$f[]="# Default: PHBL, Possible column codes: PHBL";
			$f[]="ShowHostsStats=PHBL";
			$f[]="";
			$f[]="# Show authenticated users chart";
			$f[]="# Context: Web, Streaming, Ftp";
			$f[]="# Default: 0, Possible column codes: PHBL";
			$f[]="ShowAuthenticatedUsers=0";
			$f[]="";
			$f[]="# Show robots chart";
			$f[]="# Context: Web, Streaming";
			$f[]="# Default: HBL, Possible column codes: HBL";
			$f[]="ShowRobotsStats=HBL";
			$f[]="";
			$f[]="# Show worms chart";
			$f[]="# Context: Web, Streaming";
			$f[]="# Default: 0 (If set to other than 0, see also LevelForWormsDetection), Possible column codes: HBL";
			$f[]="ShowWormsStats=0";
			$f[]="";
			$f[]="# Show email senders chart (For use when analyzing mail log files)";
			$f[]="# Context: Mail";
			$f[]="# Default: 0, Possible column codes: HBML";
			$f[]="ShowEMailSenders=0";
			$f[]="";
			$f[]="# Show email receivers chart (For use when analyzing mail log files)";
			$f[]="# Context: Mail";
			$f[]="# Default: 0, Possible column codes: HBML";
			$f[]="ShowEMailReceivers=0";
			$f[]="";
			$f[]="# Show session chart";
			$f[]="# Context: Web, Streaming, Ftp";
			$f[]="# Default: 1, Possible column codes: None";
			$f[]="ShowSessionsStats=1";
			$f[]="";
			$f[]="# Show pages-url chart.";
			$f[]="# Context: Web, Streaming, Ftp";
			$f[]="# Default: PBEX, Possible column codes: PBEX";
			$f[]="ShowPagesStats=PBEX";
			$f[]="";
			$f[]="# Show file types chart.";
			$f[]="# Context: Web, Streaming, Ftp";
			$f[]="# Default: HB, Possible column codes: HBC";
			$f[]="ShowFileTypesStats=HB";
			$f[]="";
			$f[]="# Show file size chart (Not yet available)";
			$f[]="# Context: Web, Streaming, Mail, Ftp";
			$f[]="# Default: 1, Possible column codes: None";
			$f[]="ShowFileSizesStats=0	";
			$f[]="";
			$f[]="# Show downloads chart.";
			$f[]="# Context: Web, Streaming, Ftp";
			$f[]="# Default: HB, Possible column codes: HB";
			$f[]="ShowDownloadsStats=HB	";
			$f[]="";
			$f[]="# Show operating systems chart";
			$f[]="# Context: Web, Streaming, Ftp";
			$f[]="# Default: 1, Possible column codes: None";
			$f[]="ShowOSStats=1";
			$f[]="";
			$f[]="# Show browsers chart";
			$f[]="# Context: Web, Streaming";
			$f[]="# Default: 1, Possible column codes: None";
			$f[]="ShowBrowsersStats=1";
			$f[]="";
			$f[]="# Show screen size chart";
			$f[]="# Context: Web, Streaming";
			$f[]="# Default: 0 (If set to 1, see also MiscTrackerUrl), Possible column codes: None";
			$f[]="ShowScreenSizeStats=0";
			$f[]="";
			$f[]="# Show origin chart";
			$f[]="# Context: Web, Streaming";
			$f[]="# Default: PH, Possible column codes: PH";
			$f[]="ShowOriginStats=PH";
			$f[]="";
			$f[]="# Show keyphrases chart";
			$f[]="# Context: Web, Streaming";
			$f[]="# Default: 1, Possible column codes: None";
			$f[]="ShowKeyphrasesStats=1";
			$f[]="";
			$f[]="# Show keywords chart";
			$f[]="# Context: Web, Streaming";
			$f[]="# Default: 1, Possible column codes: None";
			$f[]="ShowKeywordsStats=1";
			$f[]="";
			$f[]="# Show misc chart";
			$f[]="# Context: Web, Streaming";
			$f[]="# Default: a (See also MiscTrackerUrl parameter), Possible column codes: anjdfrqwp";
			$f[]="ShowMiscStats=a";
			$f[]="";
			$f[]="# Show http errors chart";
			$f[]="# Context: Web, Streaming";
			$f[]="# Default: 1, Possible column codes: None";
			$f[]="ShowHTTPErrorsStats=1";
			$f[]="";
			$f[]="# Show smtp errors chart (For use when analyzing mail log files)";
			$f[]="# Context: Mail";
			$f[]="# Default: 0, Possible column codes: None";
			$f[]="ShowSMTPErrorsStats=0";
			$f[]="";
			$f[]="# Show the cluster report (Your LogFormat must contains the %cluster tag)";
			$f[]="# Context: Web, Streaming, Ftp";
			$f[]="# Default: 0, Possible column codes: PHB";
			$f[]="ShowClusterStats=0";
			$f[]="";
			$f[]="";
			$f[]="# Some graphical reports are followed by the data array of values.";
			$f[]="# If you don't want this array (to reduce the report size for example), you";
			$f[]="# can set thoose options to 0.";
			$f[]="# Possible values: 0 or 1";
			$f[]="# Default: 1";
			$f[]="#";
			$f[]="# Data array values for the ShowMonthStats report";
			$f[]="AddDataArrayMonthStats=1";
			$f[]="# Data array values for the ShowDaysOfMonthStats report";
			$f[]="AddDataArrayShowDaysOfMonthStats=1";
			$f[]="# Data array values for the ShowDaysOfWeekStats report";
			$f[]="AddDataArrayShowDaysOfWeekStats=1";
			$f[]="# Data array values for the ShowHoursStats report";
			$f[]="AddDataArrayShowHoursStats=1";
			$f[]="";
			$f[]="";
			$f[]="# In the Origin chart, you have stats on where your hits came from. You can";
			$f[]="# include hits on pages that come from pages of same sites in this chart.";
			$f[]="# Possible values: 0 or 1";
			$f[]="# Default: 0";
			$f[]="#";
			$f[]="IncludeInternalLinksInOriginSection=0";
			$f[]="";
			$f[]="";
			$f[]="# The following parameters can be used to choose the maximum number of lines";
			$f[]="# shown for the particular following reports.";
			$f[]="#";
			$f[]="# Stats by countries/domains";
			$f[]="MaxNbOfDomain = 10";
			$f[]="MinHitDomain  = 1";
			$f[]="# Stats by hosts";
			$f[]="MaxNbOfHostsShown = 10";
			$f[]="MinHitHost    = 1";
			$f[]="# Stats by authenticated users";
			$f[]="MaxNbOfLoginShown = 10";
			$f[]="MinHitLogin   = 1";
			$f[]="# Stats by robots";
			$f[]="MaxNbOfRobotShown = 10";
			$f[]="MinHitRobot   = 1";
			$f[]="# Stats for Downloads";
			$f[]="MaxNbOfDownloadsShown = 10";
			$f[]="MinHitDownloads = 1";
			$f[]="# Stats by pages";
			$f[]="MaxNbOfPageShown = 10";
			$f[]="MinHitFile    = 1";
			$f[]="# Stats by OS";
			$f[]="MaxNbOfOsShown = 10";
			$f[]="MinHitOs      = 1";
			$f[]="# Stats by browsers";
			$f[]="MaxNbOfBrowsersShown = 10";
			$f[]="MinHitBrowser = 1";
			$f[]="# Stats by screen size";
			$f[]="MaxNbOfScreenSizesShown = 5";
			$f[]="MinHitScreenSize = 1";
			$f[]="# Stats by window size (following 2 parameters are not yet used)";
			$f[]="MaxNbOfWindowSizesShown = 5";
			$f[]="MinHitWindowSize = 1";
			$f[]="# Stats by referers";
			$f[]="MaxNbOfRefererShown = 10";
			$f[]="MinHitRefer   = 1";
			$f[]="# Stats for keyphrases";
			$f[]="MaxNbOfKeyphrasesShown = 10";
			$f[]="MinHitKeyphrase = 1";
			$f[]="# Stats for keywords";
			$f[]="MaxNbOfKeywordsShown = 10";
			$f[]="MinHitKeyword = 1";
			$f[]="# Stats for sender or receiver emails";
			$f[]="MaxNbOfEMailsShown = 20";
			$f[]="MinHitEMail   = 1";
			$f[]="";
			$f[]="";
			$f[]="# Choose if you want the week report to start on sunday or monday";
			$f[]="# Possible values:";
			$f[]="# 0 - Week starts on sunday";
			$f[]="# 1 - Week starts on monday";
			$f[]="# Default: 1";
			$f[]="#";
			$f[]="FirstDayOfWeek=1";
			$f[]="";
			$f[]="";
			$f[]="# List of visible flags that link to other language translations.";
			$f[]="# See Lang parameter for list of allowed flag/language codes.";
			$f[]="# If you don't want any flag link, set ShowFlagLinks to \"\".";
			$f[]="# This parameter is used only if ShowMenu parameter is set to 1.";
			$f[]="# Possible values: \"\" or \"language_codes_separated_by_space\"";
			$f[]="# Example: \"en es fr nl de\"";
			$f[]="# Default: \"\"";
			$f[]="#";
			$f[]="ShowFlagLinks=\"\"";
			$f[]="";
			$f[]="";
			$f[]="# Each URL, shown in stats report views, are links you can click.";
			$f[]="# Possible values: 0 or 1";
			$f[]="# Default: 1";
			$f[]="#";
			$f[]="ShowLinksOnUrl=1";
			$f[]="";
			$f[]="";
			$f[]="# When AWStats builds HTML links in its report pages, it starts those links";
			$f[]="# with \"http://\". However some links might be HTTPS links, so you can enter";
			$f[]="# here the root of all your HTTPS links. If all your site is a SSL web site,";
			$f[]="# just enter \"/\".";
			$f[]="# This parameter is not used if ShowLinksOnUrl is 0.";
			$f[]="# Example: \"/shopping\"";
			$f[]="# Example: \"/\"";
			$f[]="# Default: \"\"";
			$f[]="#";
			$f[]="UseHTTPSLinkForUrl=\"\"";
			$f[]="";
			$f[]="";
			$f[]="# Maximum length of URL part shown on stats page (number of characters).";
			$f[]="# This affects only URL visible text, links still work.";
			$f[]="# Default: 64";
			$f[]="#";
			$f[]="MaxLengthOfShownURL=64";
			$f[]="";
			$f[]="";
			$f[]="# You can enter HTML code that will be added at the top of AWStats reports.";
			$f[]="# Default: \"\"";
			$f[]="#";
			$f[]="HTMLHeadSection=\"\"";
			$f[]="";
			$f[]="";
			$f[]="# You can enter HTML code that will be added at the end of AWStats reports.";
			$f[]="# Great to add advert ban.";
			$f[]="# Default: \"\"";
			$f[]="#";
			$f[]="HTMLEndSection=\"\"";
			$f[]="";
			$f[]="";
			$f[]="# By default AWStats page contains meta tag robots=noindex,nofollow";
			$f[]="# If you want to have your statistics to be indexed, set this option to 1. ";
			$f[]="# Default: 0";
			$f[]="#";
			$f[]="MetaRobot=0";
			$f[]="";
			$f[]="";
			$f[]="# You can set Logo and LogoLink to use your own logo.";
			$f[]="# Logo must be the name of image file (must be in \$DirIcons/other directory).";
			$f[]="# LogoLink is the expected URL when clicking on Logo.";
			$f[]="# Default: \"awstats_logo6.png\"";
			$f[]="#";
			$f[]="Logo=\"awstats_logo6.png\"";
			$f[]="LogoLink=\"http://awstats.sourceforge.net\"";
			$f[]="";
			$f[]="";
			$f[]="# Value of maximum bar width/height for horizontal/vertical HTML graphics bars.";
			$f[]="# Default: 260/90";
			$f[]="#";
			$f[]="BarWidth   = 260";
			$f[]="BarHeight  = 90";
			$f[]="";
			$f[]="";
			$f[]="# You can ask AWStats to use a particular CSS (Cascading Style Sheet) to";
			$f[]="# change its look. To create a style sheet, you can use samples provided with";
			$f[]="# AWStats in wwwroot/css directory.";
			$f[]="# Example: \"/awstatscss/awstats_bw.css\"";
			$f[]="# Example: \"/css/awstats_bw.css\"";
			$f[]="# Default: \"\"";
			$f[]="#";
			$f[]="StyleSheet=\"\"";
			$f[]="";
			$f[]="";
			$f[]="# Those color parameters can be used (if StyleSheet parameter is not used)";
			$f[]="# to change AWStats look.";
			$f[]="# Example: color_name=\"RRGGBB\"	# RRGGBB is Red Green Blue components in Hex";
			$f[]="#";
			$f[]="color_Background=\"FFFFFF\"		# Background color for main page (Default = \"FFFFFF\")";
			$f[]="color_TableBGTitle=\"CCCCDD\"		# Background color for table title (Default = \"CCCCDD\")";
			$f[]="color_TableTitle=\"000000\"		# Table title font color (Default = \"000000\")";
			$f[]="color_TableBG=\"CCCCDD\"			# Background color for table (Default = \"CCCCDD\")";
			$f[]="color_TableRowTitle=\"FFFFFF\"	# Table row title font color (Default = \"FFFFFF\")";
			$f[]="color_TableBGRowTitle=\"ECECEC\"	# Background color for row title (Default = \"ECECEC\")";
			$f[]="color_TableBorder=\"ECECEC\"		# Table border color (Default = \"ECECEC\")";
			$f[]="color_text=\"000000\"				# Color of text (Default = \"000000\")";
			$f[]="color_textpercent=\"606060\"		# Color of text for percent values (Default = \"606060\")";
			$f[]="color_titletext=\"000000\"		# Color of text title within colored Title Rows (Default = \"000000\")";
			$f[]="color_weekend=\"EAEAEA\"			# Color for week-end days (Default = \"EAEAEA\")";
			$f[]="color_link=\"0011BB\"				# Color of HTML links (Default = \"0011BB\")";
			$f[]="color_hover=\"605040\"			# Color of HTML on-mouseover links (Default = \"605040\") ";
			$f[]="color_u=\"FFAA66\"				# Background color for number of unique visitors (Default = \"FFAA66\")";
			$f[]="color_v=\"F4F090\"				# Background color for number of visites (Default = \"F4F090\")";
			$f[]="color_p=\"4477DD\"				# Background color for number of pages (Default = \"4477DD\")";
			$f[]="color_h=\"66DDEE\"				# Background color for number of hits (Default = \"66DDEE\")";
			$f[]="color_k=\"2EA495\"				# Background color for number of bytes (Default = \"2EA495\")";
			$f[]="color_s=\"8888DD\"				# Background color for number of search (Default = \"8888DD\")";
			$f[]="color_e=\"CEC2E8\"				# Background color for number of entry pages (Default = \"CEC2E8\")";
			$f[]="color_x=\"C1B2E2\"				# Background color for number of exit pages (Default = \"C1B2E2\")";
			$f[]="";
			$f[]="";
			$f[]="";
			$f[]="#-----------------------------------------------------------------------------";
			$f[]="# PLUGINS";
			$f[]="#-----------------------------------------------------------------------------";
			$f[]="";
			$f[]="# Add here all plugin files you want to load.";
			$f[]="# Plugin files must be .pm files stored in 'plugins' directory.";
			$f[]="# Uncomment LoadPlugin lines to enable a plugin after checking that perl";
			$f[]="# modules required by the plugin are installed.";
			$f[]="";
			$f[]="# PLUGIN: Tooltips";
			$f[]="# REQUIRED MODULES: None";
			$f[]="# PARAMETERS: None";
			$f[]="# DESCRIPTION: Add tooltips pop-up help boxes to HTML report pages.  ";
			$f[]="# NOTE: This will increased HTML report pages size, thus server load and bandwidth.";
			$f[]="#";
			$f[]="#LoadPlugin=\"tooltips\"";
			$f[]="";
			$f[]="# PLUGIN: DecodeUTFKeys";
			$f[]="# REQUIRED MODULES: Encode and URI::Escape";
			$f[]="# PARAMETERS: None";
			$f[]="# DESCRIPTION: Allow AWStats to show correctly (in language charset) ";
			$f[]="# keywords/keyphrases strings even if they were UTF8 coded by the ";
			$f[]="# referer search engine.";
			$f[]="#";
			$f[]="#LoadPlugin=\"decodeutfkeys\"";
			$f[]="";
			$f[]="# PLUGIN: IPv6";
			$f[]="# PARAMETERS: None";
			$f[]="# REQUIRED MODULES: Net::IP and Net::DNS";
			$f[]="# DESCRIPTION: This plugin gives AWStats capability to make reverse DNS";
			$f[]="# lookup on IPv6 addresses.";
			$f[]="#";
			$f[]="#LoadPlugin=\"ipv6\"";
			$f[]="";
			$f[]="# PLUGIN: HashFiles";
			$f[]="# REQUIRED MODULES: Storable";
			$f[]="# PARAMETERS: None";
			$f[]="# DESCRIPTION: AWStats DNS cache files are read/saved as native hash files. ";
			$f[]="# This increases DNS cache files loading speed, above all for very large web sites.";
			$f[]="#";
			$f[]="LoadPlugin=\"hashfiles\"";
			$f[]="";
			$f[]="";
			$f[]="# PLUGIN: UserInfo";
			$f[]="# REQUIRED MODULES: None";
			$f[]="# PARAMETERS: None";
			$f[]="# DESCRIPTION: Add a text (Firtname, Lastname, Office Department, ...) in ";
			$f[]="# authenticated user reports for each login value.";
			$f[]="# A text file called userinfo.myconfig.txt, with two fields (first is login,";
			$f[]="# second is text to show, separated by a tab char) must be created in DirData";
			$f[]="# directory.";
			$f[]="#";
			$f[]="#LoadPlugin=\"userinfo\"";
			$f[]="";
			$f[]="# PLUGIN: HostInfo";
			$f[]="# REQUIRED MODULES: Net::XWhois";
			$f[]="# PARAMETERS: None";
			$f[]="# DESCRIPTION: Add a column into host chart with a link to open a popup window that shows";
			$f[]="# info on host (like whois records).";
			$f[]="#";
			$f[]="#LoadPlugin=\"hostinfo\"";
			$f[]="";
			$f[]="# PLUGIN: ClusterInfo";
			$f[]="# REQUIRED MODULES: None";
			$f[]="# PARAMETERS: None";
			$f[]="# DESCRIPTION: Add a text (for example a full hostname) in cluster reports for each cluster";
			$f[]="# number. A text file called clusterinfo.myconfig.txt, with two fields (first is";
			$f[]="# cluster number, second is text to show) separated by a tab char. must be";
			$f[]="# created into DirData directory.";
			$f[]="# Note this plugin is useless if ShowClusterStats is set to 0 or if you don't";
			$f[]="# use a personalized log format that contains %cluster tag.";
			$f[]="#";
			$f[]="#LoadPlugin=\"clusterinfo\"";
			$f[]="";
			$f[]="# PLUGIN: UrlAliases";
			$f[]="# REQUIRED MODULES: None";
			$f[]="# PARAMETERS: None";
			$f[]="# DESCRIPTION: Add a text (Page title, description...) in URL reports before URL value.";
			$f[]="# A text file called urlalias.myconfig.txt, with two fields (first is URL,";
			$f[]="# second is text to show, separated by a tab char) must be created into";
			$f[]="# DirData directory.";
			$f[]="#";
			$f[]="#LoadPlugin=\"urlalias\"";
			$f[]="";
			$f[]="# PLUGIN: TimeHiRes";
			$f[]="# REQUIRED MODULES: Time::HiRes (if Perl < 5.8)";
			$f[]="# PARAMETERS: None";
			$f[]="# DESCRIPTION: Time reported by -showsteps option is in millisecond. For debug purpose.";
			$f[]="#";
			$f[]="#LoadPlugin=\"timehires\"		";
			$f[]="";
			$f[]="# PLUGIN: TimeZone";
			$f[]="# REQUIRED MODULES: Time::Local";
			$f[]="# PARAMETERS: [timezone offset]";
			$f[]="# DESCRIPTION: Allow AWStats to adjust time stamps for a different timezone";
			$f[]="# This plugin reduces AWStats speed of 10% !!!!!!!";
			$f[]="# LoadPlugin=\"timezone\"";
			$f[]="# LoadPlugin=\"timezone +2\"";
			$f[]="# LoadPlugin=\"timezone CET\"";
			$f[]="#";
			$f[]="#LoadPlugin=\"timezone +2\"";
			$f[]="";
			$f[]="# PLUGIN: Rawlog";
			$f[]="# REQUIRED MODULES: None";
			$f[]="# PARAMETERS: None";
			$f[]="# DESCRIPTION: This plugin adds a form in AWStats main page to allow users to see raw";
			$f[]="# content of current log files. A filter is also available.";
			$f[]="#";
			$f[]="#LoadPlugin=\"rawlog\"";
			$f[]="";
			$f[]="# PLUGIN: GraphApplet";
			$f[]="# REQUIRED MODULES: None";
			$f[]="# PARAMETERS: [CSS classes to override]";
			$f[]="# DESCRIPTION: Supported charts are built by a 3D graphic applet.";
			$f[]="#";
			$f[]="#LoadPlugin=\"graphapplet /awstatsclasses\"				# EXPERIMENTAL FEATURE";
			$f[]="";
			$f[]="# PLUGIN: GraphGoogleChartAPI";
			$f[]="# REQUIRED MODULES: None";
			$f[]="# PARAMETERS: None";
			$f[]="# DESCRIPTION: Replaces the standard charts with free Google API generated images ";
			$f[]="# in HTML reports. If country data is available and more than one country has hits, ";
			$f[]="# a map will be generated using Google Visualizations.";
			$f[]="# Note: The machine where reports are displayed must have Internet access for the ";
			$f[]="# charts to be generated. The only data sent to Google includes the statistic numbers, ";
			$f[]="# legend names and country names.";
			$f[]="# Warning: This plugin is not compatible with option BuildReportFormat=xhtml. ";
			$f[]="#";
			
			if(is_file("$LOCATE_AWSTATS_PLUGINS_DIR/graphgooglechartapi.pm")){
				$f[]="LoadPlugin=\"graphgooglechartapi\"";
			}
			$f[]="";
			$f[]="# PLUGIN: GeoIPfree";
			$f[]="# REQUIRED MODULES: Geo::IPfree version 0.2+ (from Graciliano M.P.)";
			$f[]="# PARAMETERS: None";
			$f[]="# DESCRIPTION: Country chart is built from an Internet IP-Country database.";
			$f[]="# This plugin is useless for intranet only log files.";
			$f[]="# Note: You must choose between using this plugin (need Perl Geo::IPfree";
			$f[]="# module, database is free but not up to date) or the GeoIP plugin (need";
			$f[]="# Perl Geo::IP module from Maxmind, database is also free and up to date).";
			$f[]="# Note: Activestate provide a corrupted version of Geo::IPfree 0.2 Perl";
			$f[]="# module, so install it from elsewhere (from www.cpan.org for example).";
			$f[]="# This plugin reduces AWStats speed by up to 10% !";
			$f[]="#";
			$f[]="#LoadPlugin=\"geoipfree\"";
			$f[]="";
			$f[]="# MAXMIND GEO IP MODULES: Please see documentation for notes on all Maxmind modules";
			$f[]="";
			$f[]="# PLUGIN: GeoIP";
			$f[]="# REQUIRED MODULES: Geo::IP or Geo::IP::PurePerl (from Maxmind)";
			$f[]="# PARAMETERS: [GEOIP_STANDARD | GEOIP_MEMORY_CACHE] [/pathto/geoip.dat[+/pathto/override.txt]]";
			$f[]="# DESCRIPTION: Builds a country chart and adds an entry to the hosts ";
			$f[]="# table with country name";
			$f[]="# Replace spaces in the path of geoip data file with string \"%20\".";
			$f[]="#";
			$f[]="#LoadPlugin=\"geoip GEOIP_STANDARD /pathto/GeoIP.dat\"";
			$f[]="";
			$f[]="# PLUGIN: GeoIP_City_Maxmind";
			$f[]="# REQUIRED MODULES: Geo::IP or Geo::IP::PurePerl (from Maxmind)";
			$f[]="# PARAMETERS: [GEOIP_STANDARD | GEOIP_MEMORY_CACHE] [/pathto/GeoIPCity.dat[+/pathto/override.txt]]";
			$f[]="# DESCRIPTION: This plugin adds a column under the hosts field and tracks the pageviews";
			$f[]="# and hits by city including regions.";
			$f[]="# Replace spaces in the path of geoip data file with string \"%20\".";
			$f[]="#";
			$f[]="#LoadPlugin=\"geoip_city_maxmind GEOIP_STANDARD /pathto/GeoIPCity.dat\"";
			$f[]="";
			$f[]="# PLUGIN: GeoIP_ASN_Maxmind";
			$f[]="# REQUIRED MODULES: Geo::IP or Geo::IP::PurePerl (from Maxmind)";
			$f[]="# PARAMETERS: [GEOIP_STANDARD | GEOIP_MEMORY_CACHE] [/pathto/GeoIPASN.dat[+/pathto/override.txt][+http://linktoASlookup]]";
			$f[]="# DESCRIPTION: This plugin adds a chart of AS numbers where the host IP address is registered. ";
			$f[]="# This plugin can display some ISP information if included in the database. You can also provide ";
			$f[]="# a link that will be used to lookup additional registration data. Put the link at the end of ";
			$f[]="# the parameter string and the report page will include the link with the full AS number at the end.";
			$f[]="# Replace spaces in the path of geoip data file with string \"%20\".";
			$f[]="#";
			$f[]="#LoadPlugin=\"geoip_asn_maxmind GEOIP_STANDARD /usr/local/geoip.dat+http://enc.com.au/itools/aut-num.php?autnum=\"";
			$f[]="";
			$f[]="# PLUGIN: GeoIP_Region_Maxmind";
			$f[]="# REQUIRED MODULES: Geo::IP or Geo::IP::PurePerl (from Maxmind)";
			$f[]="# PARAMETERS: [GEOIP_STANDARD | GEOIP_MEMORY_CACHE] [/pathto/GeoIPRegion.dat[+/pathto/override.txt]]";
			$f[]="# DESCRIPTION:This plugin adds a chart of hits by regions. Only regions for US and ";
			$f[]="# Canada can be detected.";
			$f[]="# Replace spaces in the path of geoip data file with string \"%20\".";
			$f[]="#";
			$f[]="#LoadPlugin=\"geoip_region_maxmind GEOIP_STANDARD /pathto/GeoIPRegion.dat\"";
			$f[]="";
			$f[]="# PLUGIN: GeoIP_ISP_Maxmind";
			$f[]="# REQUIRED MODULES: Geo::IP or Geo::IP::PurePerl (from Maxmind)";
			$f[]="# PARAMETERS: [GEOIP_STANDARD | GEOIP_MEMORY_CACHE] [/pathto/GeoIPISP.dat[+/pathto/override.txt]]";
			$f[]="# DESCRIPTION: This plugin adds a chart of hits by ISP.";
			$f[]="# Replace spaces in the path of geoip data file with string \"%20\".";
			$f[]="#";
			$f[]="#LoadPlugin=\"geoip_isp_maxmind GEOIP_STANDARD /pathto/GeoIPISP.dat\"";
			$f[]="";
			$f[]="# PLUGIN: GeoIP_Org_Maxmind";
			$f[]="# REQUIRED MODULES: Geo::IP or Geo::IP::PurePerl (from Maxmind)";
			$f[]="# PARAMETERS: [GEOIP_STANDARD | GEOIP_MEMORY_CACHE] [/pathto/GeoIPOrg.dat[+/pathto/override.txt]]";
			$f[]="# DESCRIPTION: This plugin add a chart of hits by Organization name";
			$f[]="# Replace spaces in the path of geoip data file with string \"%20\".";
			$f[]="#";
			$f[]="#LoadPlugin=\"geoip_org_maxmind GEOIP_STANDARD /pathto/GeoIPOrg.dat\"";
			$f[]="";
			$f[]="";
			$f[]="#-----------------------------------------------------------------------------";
			$f[]="# EXTRA SECTIONS";
			$f[]="#-----------------------------------------------------------------------------";
			$f[]="";
			$f[]="# You can define your own charts, you choose here what are rows and columns";
			$f[]="# keys. This feature is particularly useful for marketing purpose, tracking";
			$f[]="# products orders for example.";
			$f[]="# For this, edit all parameters of Extra section. Each set of parameter is a";
			$f[]="# different chart. For several charts, duplicate section changing the number.";
			$f[]="# Note: Each Extra section reduces AWStats speed by 8%.";
			$f[]="#";
			$f[]="# WARNING: A wrong setup of Extra section might result in too large arrays";
			$f[]="# that will consume all your memory, making AWStats unusable after several";
			$f[]="# updates, so be sure to setup it correctly.";
			$f[]="# In most cases, you don't need this feature.";
			$f[]="#";
			$f[]="# ExtraSectionNameX is title of your personalized chart.";
			$f[]="# ExtraSectionCodeFilterX is list of codes the record code field must match.";
			$f[]="#   Put an empty string for no test on code.";
			$f[]="# ExtraSectionConditionX are conditions you can use to count or not the hit,";
			$f[]="#   Use one of the field condition";
			$f[]="#   (URL,URLWITHQUERY,QUERY_STRING,REFERER,UA,HOSTINLOG,HOST,VHOST,extraX)";
			$f[]="#   and a regex to match, after a coma. Use \"||\" for \"OR\".";
			$f[]="# ExtraSectionFirstColumnTitleX is the first column title of the chart.";
			$f[]="# ExtraSectionFirstColumnValuesX is a string to tell AWStats which field to";
			$f[]="#   extract value from";
			$f[]="#   (URL,URLWITHQUERY,QUERY_STRING,REFERER,UA,HOSTINLOG,HOST,VHOST,extraX)";
			$f[]="#   and how to extract the value (using regex syntax). Each different value";
			$f[]="#   found will appear in first column of report on a different row. Be sure";
			$f[]="#   that list of different possible values will not grow indefinitely.";
			$f[]="# ExtraSectionFirstColumnFormatX is the string used to write value.";
			$f[]="# ExtraSectionStatTypesX are things you want to count. You can use standard";
			$f[]="#   code letters (P for pages,H for hits,B for bandwidth,L for last access).";
			$f[]="# ExtraSectionAddAverageRowX add a row at bottom of chart with average values.";
			$f[]="# ExtraSectionAddSumRowX add a row at bottom of chart with sum values.";
			$f[]="# MaxNbOfExtraX is maximum number of rows shown in chart.";
			$f[]="# MinHitExtraX is minimum number of hits required to be shown in chart.";
			$f[]="#";
			$f[]="";
			$f[]="# Example to report the 20 products the most ordered by \"order.cgi\" script";
			$f[]="#ExtraSectionName1=\"Product orders\"";
			$f[]="#ExtraSectionCodeFilter1=\"200 304\"";
			$f[]="#ExtraSectionCondition1=\"URL,\/cgi\-bin\/order\.cgi||URL,\/cgi\-bin\/order2\.cgi\"";
			$f[]="#ExtraSectionFirstColumnTitle1=\"Product ID\"";
			$f[]="#ExtraSectionFirstColumnValues1=\"QUERY_STRING,productid=([^&]+)\"";
			$f[]="#ExtraSectionFirstColumnFormat1=\"%s\"";
			$f[]="#ExtraSectionStatTypes1=PL";
			$f[]="#ExtraSectionAddAverageRow1=0";
			$f[]="#ExtraSectionAddSumRow1=1";
			$f[]="#MaxNbOfExtra1=20";
			$f[]="#MinHitExtra1=1";
			$f[]="";
			$f[]="";
			$f[]="# There is also a global parameter ExtraTrackedRowsLimit that limits the";
			$f[]="# number of possible rows an ExtraSection can report. This parameter is";
			$f[]="# here to protect too much memory use when you make a bad setup in your";
			$f[]="# ExtraSection. It applies to all ExtraSection independently meaning that";
			$f[]="# none ExtraSection can report more rows than value defined by ExtraTrackedRowsLimit.";
			$f[]="# If you know an ExtraSection will report more rows than its value, you should";
			$f[]="# increase this parameter or AWStats will stop with an error.";
			$f[]="# Example: 2000";
			$f[]="# Default: 500";
			$f[]="#";
			$f[]="ExtraTrackedRowsLimit=500";
			$f[]="";
			$f[]="";
			$f[]="#-----------------------------------------------------------------------------";
			$f[]="# INCLUDES";
			$f[]="#-----------------------------------------------------------------------------";
			$f[]="";
			$f[]="# You can include other config files using the directive with the name of the";
			$f[]="# config file.";
			$f[]="# This is particularly useful for users who have a lot of virtual servers, so";
			$f[]="# a lot of config files and want to maintain common values in only one file.";
			$f[]="# Note that when a variable is defined both in a config file and in an";
			$f[]="# included file, AWStats will use the last value read for parameters that";
			$f[]="# contains one value and AWStats will concat all values from both files for";
			$f[]="# parameters that are lists of values.";
			$f[]="#";
			$f[]="";
			$f[]="#Include \"\"";
			if($GLOBALS["VERBOSE"]){echo "compiling ".count($f)." rows";}
			return @implode("\n",$f);
			
			
		}

		
	}
	
?>	